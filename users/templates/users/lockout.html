{% extends 'base.html' %}
{% block title %}Account Locked{% endblock %}

{% block content %}
<div class="container text-center mt-5">
    <div class="alert alert-danger shadow-lg">
        <h1 class="display-4">Account Locked</h1>
        <p class="lead">Too many failed login attempts have temporarily locked your account.</p>
        <p>Please wait or contact support for assistance.</p>
        
        <!-- Countdown Timer for Re-login -->
        <div id="countdown" class="mt-4"></div>
        
        <a href="{% url 'login' %}" class="btn btn-primary mt-3">Return to Login</a>
        <a href="{% url 'support' %}" class="btn btn-outline-secondary mt-3">Contact Support</a>
    </div>
</div>

<!-- Countdown Script -->
<script>
    let timeLeft = 60;  // Cool-off time in seconds
    const countdownElement = document.getElementById('countdown');

    function updateCountdown() {
        if (timeLeft > 0) {
            countdownElement.innerHTML = `<p class="text-muted">Try again in <strong>${timeLeft}</strong> seconds.</p>`;
            timeLeft--;
            setTimeout(updateCountdown, 1000);
        } else {
            countdownElement.innerHTML = `<a href="{% url 'login' %}" class="btn btn-primary">Try Again</a>`;
        }
    }
    updateCountdown();
</script>
{% endblock %}
